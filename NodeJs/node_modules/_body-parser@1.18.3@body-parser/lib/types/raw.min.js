/*!
 * body-parser
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */
;"use strict";var bytes=require("bytes");var debug=require("debug")("body-parser:raw");var read=require("../read");var typeis=require("type-is");module.exports=raw;function raw(i){var a=i||{};var g=a.inflate!==false;var c=typeof a.limit!=="number"?bytes.parse(a.limit||"100kb"):a.limit;var d=a.type||"application/octet-stream";var e=a.verify||false;if(e!==false&&typeof e!=="function"){throw new TypeError("option verify must be function")}var h=typeof d!=="function"?typeChecker(d):d;function b(j){return j}return function f(l,j,k){if(l._body){debug("body already parsed");k();return}l.body=l.body||{};if(!typeis.hasBody(l)){debug("skip empty body");k();return}debug("content-type %j",l.headers["content-type"]);if(!h(l)){debug("skip parsing");k();return}read(l,j,k,b,debug,{encoding:null,inflate:g,limit:c,verify:e})}}function typeChecker(b){return function a(c){return Boolean(typeis(c,b))}};