<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS基础1</title>
</head>
<body>
<div class="public">
    <button>点击触发click事件</button>
    <input id="Button1" type="button" value="欢迎你" onclick="Welcome();"/>
    <br/>
    <p id="demo">这是旧的内容</p>
    <input id="Button2" type="button" value="点击，改变内容（innerHTML）并修改样式（style）" onclick="ChangContent();"/>
    <br/>
    <img id="image" src="/JS/images/An.png" alt="点击这个灯泡可以打开或是关闭" width="150" height="150" onclick="ChangeImage();"/>
    <p>点击灯泡就可以打开或关闭这盏灯</p>
    <p>请输入数字。如果输入值不是数字，浏览器会弹出提示框。</p>
    <input id="demo2" type="text"/>
    <button type="button" onclick="Check();">验证</button>
    <br/>
    <p id="ZiMianLiang">JS字面量的用方法</p>
    <button type="button" onclick="ZiMianLiang();">使用字面量(字面量相当于是常量)</button>
    <br/>
    <p id="PersonObject">JS对象的用法</p>
    <button type="button" onclick="OutPutObject();">访问JS对象并获取对象的值</button>
    <br/>
    <p id="StringObject">JS字符串的用法</p>
    <button type="button" onclick="GetString();">常用的JS方法</button>
    <br/>
    <p>
        (1)数据类型：
        <br/> 基础类型：undefined null boolean number string
        <br/> 复杂类型：Object
    </p>
    <p id="TypeOf">使用typeOf检测数据类型</p>
    <button type="button" onclick="GetDataType();">检测数据类型</button>
    <br/>
    <p id="Regex">正则表达式</p>
    <button type="button" onclick="CheckData();">使用正则表达式</button>
    <br/>
    <p id="JSON">JSON对象</p>
    <button type="button" onclick="JSONData();">使用JSON</button>
    <br/>

    <p>实现阶乘函数</p>
    <button type="button" onclick="alert( factorial(5));">计算5的阶乘</button>
    <br/>

</div>
<script type="text/javascript ">
    document.write("<h1>使用document.write()直接在body中输出内容</h1>");

    //触发一个简单的事件
    function Welcome() {
        alert("触发事件：欢迎你");
    }

    //更改内容并修改样式
    function ChangContent() {
        document.getElementById("demo").innerHTML = "这是新的内容";
        document.getElementById("demo").style.backgroundColor = "red";
        document.getElementById("demo").style.color = "blue";
    }

    //改变图片
    function ChangeImage() {
        var v = document.getElementById("image");
        if (v.src.match("L")) {
            v.src = "./images/An.png";
        } else if (v.src.match("An")) {
            v.src = "./images/L.png";
        }
    }

    //验证输入的数据是否是数字，如果不是，会给出提示
    function Check() {
        //获取输入的值
        var v = document.getElementById("demo2").value;
        alert(v);
        if (v == "" || isNaN(v)) {
            alert("不是数字");
        }
    }

    //字面量的使用
    function ZiMianLiang() {
        document.getElementById("ZiMianLiang").innerHTML = 5 * 10;
    };

    //访问JS对象并获取对象的值
    function OutPutObject() {
        //定义一个Person对象
        var Person = {
            name: "song",
            age: 24,
            address: "上海闵行",
            //定义对象的一个方法
            Greeting: function (x) {
                alert(x);
            }

        };
        //访问Person对象的两种方法
        document.getElementById("PersonObject").innerHTML = Person.name + ":" + Person["age"];
        //访问对象中的方法
        Person.Greeting(Person.name);
    };

    //字符串的方法
    function GetString() {
        var v = "John He Nan";
        alert("长度属性:" + v.length);
        alert("返回指定索引位置的字符:" + v.charAt(0));
        alert("返回字符串中检索指定字符第一次出现的位置:" + v.indexOf("n"));
        alert("返回字符串中检索指定字符最后一次出现的位置:" + v.lastIndexOf("n"));
        alert("提取字符串的片断，并在新的字符串中返回被提取的部分:" + v.slice("He"));
        alert("valueOf:返回某个字符串对象的原始值:" + v.valueOf());
    };

    //检测数据类型的方法
    function GetDataType() {
        var v1 = "Hi";
        var v2 = 20;
        var v3 = new Array();
        v3[0] = "v31";
        v3[1] = "v32";
        alert(typeof (v1) + typeof (v2) + typeof (v3));
    };

    //使用正则表达式
    function CheckData() {
        var v = "Visit w3cschool";
        alert(v.search(/w3cschool/i));

        var p = /e/i;
        alert(p.test("使用 RegExp 对象:" + "hello"));
        alert(p.exec("使用 RegExp 对象:" + "hello"));

    };

    //使用JSON
    function JSONData() {
        var json = {
            "name": "song",
            "age": 12,
            //数组声明是在[]中
            "Person": [{
                "firstName": "John",
                "lastName": "Doe"
            }, {
                "firstName": "Anna",
                "lastName": "Smith"
            }, {
                "firstName": "Peter",
                "lastName": "Jones"
            }]
        };
        var v = json.Person; //Person是一个数组变量
        alert(json.name + "," + json.age + "," + v[2].firstName);
    };


    /*
    * 使用递归算法计算数字的阶乘 5！=5*4*3*2*1
    * 0和1的阶乘还是1
    * */
    function factorial(n) {
        if (n == 0) {
            return 1;
        } else if (n == 1) {
            return 1;
        } else {
            return n * factorial(n - 1);
        }
    }



</script>
</body>
</html>